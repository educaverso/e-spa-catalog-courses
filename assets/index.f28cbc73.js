import{d as l,c as i,a as d,o as p}from"./index.2a111212.js";const _=l({setup(m){const t="ws://localhost:8080/socket.io",s=()=>{const e=new WebSocket(t);return e.binaryType="blob",e.onclose=o=>{console.log(`[close] Connection closed, code=${o.code} reason=${o.reason}`),c()},e.onopen=o=>{console.log("[open] Connection established")},e.onmessage=async o=>{const r=await o.data.text();console.log(`[message] Data received from server: ${r}`)},e.onerror=o=>{console.log(`[error] ${o}`)},e};let n=s();const c=()=>{setTimeout(()=>{n=s()},1e3+Math.floor(Math.random()*4e3))},a=()=>{if(n.OPEN){const e={data:"Domain Driven Design, o rato roeu a roupa do rei"},o=new Blob([JSON.stringify(e)],{type:"application/json"});n.send(o)}};return(e,o)=>(p(),i("div",null,[d("button",{onClick:a},"Send")]))}});export{_ as default};
